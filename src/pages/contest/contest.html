<!--
  Generated template for the ContestPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>Detalhes do concurso</ion-title>
    </ion-navbar>

</ion-header>


<ion-content>
    <ion-card (click)="openContest(lottery.id)" class="lottery-uppcoming">
        <ion-card-content>
            <ion-card-title class="lottery-uppcoming">
                {{lottery?.contest?.game_name}}
            </ion-card-title>

            <ion-item class="lottery-content" no-padding>
                <!-- <h3>Sorteio:</h3>
                <p>{{lottery?.name}}</p> -->
                <p><strong>Concurso:</strong> {{lottery?.contest?.name}}</p>
                <p><strong>Data do sorteio:</strong>{{lottery?.contest?.draw_date | date:"dd/MM/yyyy HH:mm" }}</p>
                <p><strong>Estado:</strong>{{lottery?.contest?.game?.state_display }}</p>
            </ion-item>
            <ion-item-divider></ion-item-divider>
            <ion-grid>
                <ion-row>
                    <ion-col col-10 offset-2>
                        <p text-right><strong>Taxa administrativa:</strong> {{lottery?.contest?.admin_tax | currency:'R$':'symbol-narrow':'2.2-2'}}</p>
                        <p text-right><strong>Valor base (por registro) :</strong> {{lottery?.contest?.price | currency:'R$':'symbol-narrow':'2.2-2'}}</p>
                        <hr>
                        <p text-right>{{lottery?.contest?.price + lottery?.contest?.admin_tax | currency:'R$':'symbol-narrow':'2.2-2'}}</p>
                    </ion-col>
                </ion-row>
            </ion-grid>

        </ion-card-content>
    </ion-card>
    <ion-list no-lines>
        <ion-item-divider color="light">Registros realizados</ion-item-divider>
        <ion-spinner *ngIf="loadingRecords" name="dots"></ion-spinner>
        <ion-item *ngFor="let record of recordsList; let index = index">
            <ion-thumbnail item-start>
                <img [src]="record.image">
            </ion-thumbnail>
            <h2>Registrado dia:<br> {{record.created_at}}</h2>
            <p>Números:<br> {{record.numbers}}</p>            
            <!-- <p>Hayao Miyazaki • 1988</p> -->
            <!-- <button ion-button clear item-end>View</button> -->
        </ion-item>
    </ion-list>

    <ion-fab right bottom>
        <button ion-fab (click)="addRegister()"><ion-icon name="add"></ion-icon></button>
    </ion-fab>
</ion-content>